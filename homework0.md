# CAP и СУБД

## ScyllaDB

Данная СУБД относится к AP (availability and partition tolerance).

AP-система (Availability + Partition tolerance — Consistency) не гарантирует целостность данных, обеспечивая их доступность и устойчивость к разделению, например, как в распределённых веб-кэшах и DNS. 

Здесь было достаточно просто узнать, как какому типу относится данное БД. Достаточно было перейти на [официальный документ СУБД](https://docs.scylladb.com/stable/architecture/architecture-fault-tolerance.html). 

В конце документа разбирается CAP-теорема. После же говорится о том, что согласованности быть не может, так как теряется высокоустойчивость - основная фишка этой БД. За счет дополнительной отказоустойчивости, расмотренная выше в этой статье, достигается постоянная работа приложения (не выходит из строя).

Также можно было догадаться и без этого документа. На [официальном сайте](https://www.scylladb.com/scylla-vs-cassandra/) сравнивают Scylla и Cassandra. В целом, рассматриваемая СУБД дублирует характеристики Cassandra. Она же в свою очередь является типичным примером AP.

## DragonFlyDB

Данная СУБД относится к CA (consistency and availability).

CA (Availability + Consistency — Parition tolerance), когда данные во всех узлах кластера согласованы и доступны, но не устойчивы к разделению. 

Выяснить, к какому типу относится СУБД, помог [официальный сайт](https://dragonflydb.io/).  На первый взгляд сложно сказать, к какому типу он принадлежал. Первая деталь, которая зацепила в разделе Highly Scalable, - работает на одной машине. Что это означает на языке CAP-теоремы? 

Это указывает на отсутсвие так таковой устойчивости к разделению (partition tolerance), поскольку данную систему нельзя разделить на несколько. Это соответствует и другим реляционным баз данных, упомянутых выше.

Вторая и третья деталь находятся на странице [features](https://dragonflydb.io/features). Собственно, эффективность и производительность указывают на то, что система доступна и согласована (CA), проще говоря, работает быстро и качественно. Режим работы - асинхронный, запросы завершаются корректно и быстро, высокая пропускная способность. 

## ArenadataDB

Данная СУБД относится к CP (consistency and partition tolerance).

CP-система (Consistency + Partition tolerance — Availability) в каждый момент обеспечивает целостность данных и способна работать в условиях распада в ущерб доступности, не выдавая отклик на запрос. 

Прежде всего, [здесь](https://bestprogrammer.ru/izuchenie/osnovy-sistemnogo-proektirovaniya-chto-takoe-teorema-cap) указаны более понятным языком фичи данных СУБД: используются документы для хранения данных. При разделении, система отключает несогласованные узлы, пока не будут исправлены неточности. При подобных блокировках журналы особытий сильно ускоряет процесс. 

Переходим на [официальный сайт](https://arenadata.tech/products/arenadata-db/) в раздел FAQ. Там есть предпоследний вопрос: Какие средства управления и мониторинга есть в Arenadata DB? Собственно там и идет речь про подобные журналы изменений и ошибок. 

Также три вопроса, начиная с : Какие наиболее значимые функциональные особенности есть у Arenadata DB?, ответы на которые говорят нам о том, что система одновременно устойчива и согласована, но никак не может быть доступна сразу, иначе бы не было резерного копирования и т.п.
